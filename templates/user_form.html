<!-- templates/user_form.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% if user %}Editar{% else %}Crear{% endif %} Usuario</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container py-4">
        <h1 class="mb-4">{% if user %}Editar{% else %}Crear{% endif %} Usuario</h1>

        <form method="post">
            <div class="row g-3">
                <div class="col-md-6">
                    <label>Nombre:</label>
                    <input name="Nombre" class="form-control" value="{{ user.name if user }}" required>
                </div>
                <div class="col-md-6">
                    <label>Nombre de usuario:</label>
                    <input name="Nombre_de_usuario" class="form-control" value="{{ user.username if user }}" required>
                </div>
                <div class="col-md-6">
                    <label>Correo:</label>
                    <input name="Correo" class="form-control" value="{{ user.email if user }}" required type="email">
                </div>
                <div class="col-md-6">
                    <label>Contraseña:</label>
                    <input name="Contraseña" class="form-control" value="{{ user.password if user }}" required type="password">
                </div>
                <div class="col-md-4">
                    <label>Rol:</label>
                    <select name="Rol" class="form-select">
                        <option value="admin" {% if user and user.role == 'admin' %}selected{% endif %}>admin</option>
                        <option value="user" {% if user and user.role == 'user' %}selected{% endif %}>user</option>
                    </select>
                </div>
                <div class="col-md-8">
                    <label>Imagen (avatar):</label>
                    <select name="Imagen" class="form-select">
                        {% for img in ['avatar1.png', 'avatar2.png', 'avatar3.png', 'avatar4.png'] %}
                        <option value="{{ img }}" {% if user and user.avatar == img %}selected{% endif %}>{{ img }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="mt-4">
                <button class="btn btn-primary" type="submit">Guardar</button>
                <a href="{{ url_for('usuarios') }}" class="btn btn-secondary">Cancelar</a>
            </div>
        </form>
    </div>
</body>
</html>
